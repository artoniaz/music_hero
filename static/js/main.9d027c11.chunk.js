(this.webpackJsonpmusic_hero=this.webpackJsonpmusic_hero||[]).push([[0],{14:function(e,t,a){e.exports=a(43)},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),l=a.n(s),c=a(2),o=a(3),u=a(5),i=a(4),m=a(6),h=function(e){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"header__title",onClick:e.resetApp},"full guitar tabs database"))},p=a(7),d=a.n(p),b=a(10),g=a(11),_=a.n(g),f=function(e){var t=e.tabType,a=e.activeTab,n=e.getTabValue,s=t;return"TEXT_GUITAR_TAB"===t?t="guitar".toUpperCase():"TEXT_BASS_TAB"===t&&(t="bass".toUpperCase()),r.a.createElement("div",{className:a===s?"musicRecord__tabType musicRecord__tabType--active":"musicRecord__tabType",onClick:n,tabvalue:s},t)};function E(e){var t="https://www.songsterr.com/a/ra/songs.json?pattern=".concat(e);return fetch(t).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}var T=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={userInput:"",tabValue:"",miniSearch:!1},a.callSearch=function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,E(a.state.userInput);case 3:if(void 0!==(n=e.sent)){e.next=7;break}return a.setState({userInput:""}),e.abrupt("return",a.props.toggleModal(!0,"An error occured","There are some connection problems. Please try again later."));case 7:if(0!==n.length){e.next=10;break}return a.setState({userInput:""}),e.abrupt("return",a.props.toggleModal(!0,"We couldn't find what you are looking for.","Please make sure you typed artist's name or song title correctly."));case 10:a.props.getMusicData(n,a.state.userInput),a.setState({userInput:""});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleUserInput=function(e){var t=e.target.value;a.setState({userInput:t})},a.getTabValue=function(e){var t=e.target.attributes.tabvalue.value;t===a.state.tabValue&&(t=""),a.props.getTabValue(t),a.setState({tabValue:t})},a.handleScroll=function(e){window.scrollY<150&&a.state.miniSearch?a.setState({miniSearch:!1}):window.scrollY>=150&&!a.state.miniSearch&&a.setState({miniSearch:!0})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmout",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this,t=this.state.miniSearch,a=this.props.tabTypes.map((function(t){return r.a.createElement(f,{tabType:t,key:t,activeTab:e.state.tabValue,getTabValue:e.getTabValue})}));return r.a.createElement(_.a,{duration:300,height:"auto"},r.a.createElement("form",{className:t?"searchForm searchForm--mini":"searchForm",onSubmit:this.callSearch},t?null:r.a.createElement("h2",{className:"searchForm__title"},"search"),r.a.createElement("p",{className:"searchForm__tabExplanation"},"Choose your prefered tab type"),r.a.createElement("div",{className:"musicRecord__tabTypes musicRecord__tabTypes--mainSearch"},a),t?null:r.a.createElement("div",null,r.a.createElement("p",{className:"searchForm__subTitle"},"Type artist's name or track's title"),r.a.createElement("input",{className:"searchForm__searchInput",type:"text",placeholder:"e.g. Leonard Cohen or Hallelujah",onChange:this.handleUserInput,value:this.state.userInput}),r.a.createElement("button",{type:"submit",className:"searchForm__button",disabled:!this.state.userInput||!this.state.tabValue},"search"))))}}]),t}(n.Component),v=a(13),y=function(e){var t=e.recordData,a=t.title,n=t.tabTypes,s=e.recordData.artist.name,l=n.map((function(t){var a=e.recordData.id+t;return r.a.createElement(f,{key:a,tabType:t,activeTab:e.activeTab})}));return r.a.createElement("div",{className:"musicRecord"},r.a.createElement("h3",{className:"musicRecord__songTitle"},a),r.a.createElement("p",{className:"musicRecord__artistName"},s),r.a.createElement("div",{className:"musicRecord__tabTypes"},l))},N=a(12),S=a.n(N),w=function(){return r.a.createElement(S.a,{type:"Oval",height:80,width:80,color:"#bada55",className:"loader"})},k=function(e){var t,a=e.tabValue,n=e.userInput,s=e.data,l=s.map((function(e){return r.a.createElement(y,{key:e.id,recordData:e,activeTab:a})})),c=l.filter((function(e){return-1!==Object(v.a)(e.props.recordData.tabTypes).indexOf(a)?e:null}));return t=""!==a&&s.length>0?r.a.createElement("h1",{className:"results__title"},"You are looking for ",n):""===a&&s.length>0?r.a.createElement("p",{className:"results__title"},"You are looking for ",n," but you haven't choosen any tab type. Please click on your preferd tab type to select it."):null,"TEXT_GUITAR_TAB"===a?a="guitar".toUpperCase():"TEXT_BASS_TAB"===a&&(a="bass".toUpperCase()),l.length>0&&0===c.length&&(c=r.a.createElement("p",{className:"results__noTabs"},"There are no ",a," records matching ",n,". Please choose another tab type.")),r.a.createElement("main",{className:"results"},0===s.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"results__primaryTitle"},"Hello"),r.a.createElement("h2",null,"Welcome in full tab types database."),r.a.createElement("div",{className:"resutls__img"})):null,a&&n&&0===s.length?r.a.createElement(w,null):r.a.createElement(r.a.Fragment,null,t,""!==a&&s.length>0?c:null))},I=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("h1",{className:"footer__title"},"Artur Zarzycki"))},A=function(e){return r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modalBackground"}),r.a.createElement("div",{className:"modal__box"},r.a.createElement("h1",{className:"modal__title"},e.title),r.a.createElement("p",{className:"modal__message"},e.message),r.a.createElement("button",{className:"modal__button",onClick:function(){return e.toggleModal(!1,"","")}},"close")))},V=(a(42),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={musicData:[],userInput:"",tabValue:"",modal:{show:!1,title:"",message:""}},a.tabTypes=["PLAYER","TEXT_GUITAR_TAB","CHORDS","TEXT_BASS_TAB"],a.getMusicData=function(e,t){a.setState({musicData:e,userInput:t})},a.getTabValue=function(e){a.setState({tabValue:e})},a.toggleModal=function(e,t,n){a.setState({modal:{show:e,title:t,message:n}})},a.resetApp=function(){a.setState({musicData:[],userInput:"",tabValue:"",modal:{show:!1,title:"",message:""}})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"mainContainer"},this.state.modal.show?r.a.createElement(A,{title:this.state.modal.title,message:this.state.modal.message,toggleModal:this.toggleModal}):null,r.a.createElement(h,{resetApp:this.resetApp}),r.a.createElement("div",{className:"contentContainer"},r.a.createElement(T,{getMusicData:this.getMusicData,getTabValue:this.getTabValue,tabTypes:this.tabTypes,toggleModal:this.toggleModal}),r.a.createElement(k,{data:this.state.musicData,tabValue:this.state.tabValue,userInput:this.state.userInput,toggleModal:this.toggleModal})),r.a.createElement(I,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.9d027c11.chunk.js.map